{"ast":null,"code":"import _slicedToArray from \"/Users/huangzhongkai/Desktop/ntu msis/Semester 2/Blockchain System Software Engineering/FrontendAssessment/codes/Codes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/huangzhongkai/Desktop/ntu msis/Semester 2/Blockchain System Software Engineering/FrontendAssessment/codes/Codes/src/components/home/home_search_bar.js\";\nimport React, { useState } from 'react';\nimport { Redirect } from 'react-router';\nimport { Container, Card, Input, Button, InputGroup, InputGroupAddon, InputGroupButtonDropdown, DropdownToggle, DropdownMenu, DropdownItem, Alert } from 'reactstrap';\nimport \"./main.css\";\nimport \"./home.css\";\n\nvar HomeSearchBar = function HomeSearchBar(_ref) {\n  var blocks = _ref.blocks;\n  var blockURL = '/block';\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      splitButtonOpen = _useState2[0],\n      setSplitButtonOpen = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      searchTerm = _useState4[0],\n      setSearchTerm = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      visible = _useState6[0],\n      setVisible = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      redirectToBlock = _useState8[0],\n      setRedirectToBlock = _useState8[1];\n\n  var onDismiss = function onDismiss() {\n    return setVisible(false);\n  };\n\n  var toggleSplit = function toggleSplit() {\n    return setSplitButtonOpen(!splitButtonOpen);\n  };\n\n  var toggleRedirect = function toggleRedirect() {\n    return setRedirectToBlock(!redirectToBlock);\n  };\n\n  var updateSearchTerm = function updateSearchTerm(e) {\n    return setSearchTerm(e.currentTarget.value);\n  };\n\n  var redirectToBlockPage = function redirectToBlockPage(hash) {\n    blockURL = \"/block/\".concat(hash); // blockURL is used in render with redirect\n\n    toggleRedirect();\n  };\n\n  var searchBlock = function searchBlock() {\n    var searchTrimmed = searchTerm.trim();\n\n    if (blocks[searchTrimmed] !== undefined) {\n      redirectToBlockPage(searchTrimmed);\n      return;\n    }\n\n    Object.values(blocks).forEach(function (block) {\n      console.log(block);\n\n      if (block.number.toString() === searchTrimmed) {\n        var hash = block.hash.toString();\n        redirectToBlockPage(hash);\n        return;\n      }\n    });\n    setVisible(true);\n  };\n\n  return redirectToBlock ? React.createElement(Redirect, {\n    to: blockURL,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }) : React.createElement(Container, {\n    fluid: \"lg\",\n    className: \"md-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"main-contents\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(Card, {\n    body: true,\n    className: \"gradient-half-primary-body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"search-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    className: \"white-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, \"Ethereum Block Chain Explorer\")), React.createElement(InputGroup, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(InputGroupButtonDropdown, {\n    addonType: \"prepend\",\n    isOpen: splitButtonOpen,\n    toggle: toggleSplit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(DropdownToggle, {\n    split: true,\n    className: \"white-btn mid-search-txt\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, \"All Filters  \"), React.createElement(DropdownMenu, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(DropdownItem, {\n    className: \"nf\",\n    disabled: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, \"Comming soon...\"), React.createElement(DropdownItem, {\n    className: \"nf\",\n    disabled: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"...\"), React.createElement(DropdownItem, {\n    className: \"nf\",\n    disabled: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, \"...\"), React.createElement(DropdownItem, {\n    className: \"nf\",\n    disabled: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \"...\"), React.createElement(DropdownItem, {\n    className: \"nf\",\n    disabled: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, \"...\"))), React.createElement(Input, {\n    className: \"mid-search-txt\",\n    placeholder: \"Search by block height or hash (use the feed for block info)\",\n    value: searchTerm,\n    onChange: updateSearchTerm,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }), React.createElement(InputGroupAddon, {\n    addonType: \"append\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, React.createElement(Button, {\n    className: \"search-btn\",\n    color: \"secondary\",\n    onClick: searchBlock,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, \"Search\"))))), React.createElement(Alert, {\n    color: \"info\",\n    isOpen: visible,\n    toggle: onDismiss,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, \"Sorry, we could not find a block using the provided search term. Search ability is limited to exact matches of blocks in the below feed.\"));\n};\n\nexport default HomeSearchBar;","map":{"version":3,"sources":["/Users/huangzhongkai/Desktop/ntu msis/Semester 2/Blockchain System Software Engineering/FrontendAssessment/codes/Codes/src/components/home/home_search_bar.js"],"names":["React","useState","Redirect","Container","Card","Input","Button","InputGroup","InputGroupAddon","InputGroupButtonDropdown","DropdownToggle","DropdownMenu","DropdownItem","Alert","HomeSearchBar","blocks","blockURL","splitButtonOpen","setSplitButtonOpen","searchTerm","setSearchTerm","visible","setVisible","redirectToBlock","setRedirectToBlock","onDismiss","toggleSplit","toggleRedirect","updateSearchTerm","e","currentTarget","value","redirectToBlockPage","hash","searchBlock","searchTrimmed","trim","undefined","Object","values","forEach","block","console","log","number","toString"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Redirect } from 'react-router'\n\nimport {\n  Container,\n  Card,\n  Input,\n  Button,\n  InputGroup,\n  InputGroupAddon,\n  InputGroupButtonDropdown,\n  DropdownToggle,\n  DropdownMenu,\n  DropdownItem,\n  Alert,\n} from 'reactstrap';\nimport \"./main.css\";\nimport \"./home.css\";\n\n\nconst HomeSearchBar = ({ blocks }) => {\n  let blockURL = '/block'\n  const [splitButtonOpen, setSplitButtonOpen] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('')\n  const [visible, setVisible] = useState(false);\n  const [redirectToBlock, setRedirectToBlock] = useState(false)\n  const onDismiss = () => setVisible(false);\n\n  const toggleSplit = () => setSplitButtonOpen(!splitButtonOpen);\n  const toggleRedirect = () => setRedirectToBlock(!redirectToBlock);\n  const updateSearchTerm = (e) => setSearchTerm(e.currentTarget.value);\n\n  const redirectToBlockPage = (hash) => {\n    blockURL = (`/block/${hash}`);\n    // blockURL is used in render with redirect\n    toggleRedirect();\n  }\n\n  const searchBlock = () => {\n    const searchTrimmed = searchTerm.trim();\n    if (blocks[searchTrimmed] !== undefined) {\n      redirectToBlockPage(searchTrimmed);\n      return;\n    }\n\n    Object.values(blocks).forEach((block) => {\n      console.log(block)\n      if (block.number.toString() === searchTrimmed) {\n        const hash = block.hash.toString();\n        redirectToBlockPage(hash);\n        return;\n      }\n    })\n    setVisible(true);\n  }\n\n  return redirectToBlock ?\n    (\n      <Redirect to={blockURL} />\n    )\n    :\n    (\n      <Container fluid=\"lg\" className='md-4'>\n        <div className='main-contents'>\n          <Card body className='gradient-half-primary-body' >\n            <div className='search-header'>\n              <h5 className='white-text'>\n                Ethereum Block Chain Explorer\n              </h5>\n              {/* <div className='quick-links white-text'>\n                <ul className='small-text'>\n                  <li className='small-text'>Quick links: </li>\n                  <li className='small-text dt'>ERC-20 Quick Links</li>\n                  <li className='small-text dt'>ERC-721 Quick Links</li>\n                </ul>\n              </div> */}\n            </div>\n            <InputGroup>\n              <InputGroupButtonDropdown addonType=\"prepend\"\n                isOpen={splitButtonOpen} toggle={toggleSplit}>\n                <DropdownToggle split className='white-btn mid-search-txt' >All Filters  </DropdownToggle>\n                <DropdownMenu>\n                  <DropdownItem className='nf' disabled>Comming soon...</DropdownItem>\n                  <DropdownItem className='nf' disabled>...</DropdownItem>\n                  <DropdownItem className='nf' disabled>...</DropdownItem>\n                  <DropdownItem className='nf' disabled>...</DropdownItem>\n                  <DropdownItem className='nf' disabled>...</DropdownItem>\n\n                </DropdownMenu>\n              </InputGroupButtonDropdown >\n              <Input\n                className='mid-search-txt'\n                placeholder=\"Search by block height or hash (use the feed for block info)\"\n                value={searchTerm}\n                onChange={updateSearchTerm}\n              />\n              <InputGroupAddon addonType=\"append\">\n                <Button\n                  className='search-btn'\n                  color=\"secondary\"\n                  onClick={searchBlock}\n                >Search</Button>\n              </InputGroupAddon>\n            </InputGroup>\n          </Card>\n        </div>\n        <Alert color=\"info\" isOpen={visible} toggle={onDismiss}>\n          Sorry, we could not find a block using the provided search term. Search ability is limited to exact matches of blocks in the below feed.\n    </Alert>\n      </Container>\n    )\n}\n\nexport default HomeSearchBar;"]},"metadata":{},"sourceType":"module"}