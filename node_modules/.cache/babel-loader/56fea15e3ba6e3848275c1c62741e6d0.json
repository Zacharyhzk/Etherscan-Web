{"ast":null,"code":"import * as APIUtil from '../util/session_api_util';\nexport var RECEIVE_CURRENT_USER = 'RECEIVE_CURRENT_USER';\nexport var LOGOUT_CURRENT_USER = 'LOGOUT_CURRENT_USER';\nexport var RECEIVE_SESSION_ERRORS = 'RECEIVE_SESSION_ERRORS';\nexport var CLEAR_SESSION_ERRORS = 'CLEAR_SESSION_ERRORS';\nexport var receiveCurrentUser = function receiveCurrentUser(currentUser) {\n  return {\n    type: RECEIVE_CURRENT_USER,\n    currentUser: currentUser\n  };\n};\nexport var logoutCurrentUser = function logoutCurrentUser() {\n  return {\n    type: LOGOUT_CURRENT_USER\n  };\n};\nexport var receiveErrors = function receiveErrors(errors) {\n  return {\n    type: RECEIVE_SESSION_ERRORS,\n    errors: errors\n  };\n};\nexport var clearSessionErrors = function clearSessionErrors() {\n  return {\n    type: CLEAR_SESSION_ERRORS\n  };\n};\nexport var signup = function signup(user) {\n  return function (dispatch) {\n    return APIUtil.signup(user).then(function (resUser) {\n      return dispatch(receiveCurrentUser(resUser));\n    }, function (err) {\n      return dispatch(receiveErrors(err.responseJSON));\n    });\n  };\n};\nexport var login = function login(user) {\n  return function (dispatch) {\n    return APIUtil.login(user).then(function (resUser) {\n      return dispatch(receiveCurrentUser(resUser));\n    }, function (err) {\n      return dispatch(receiveErrors(err.responseJSON));\n    });\n  };\n};\nexport var logout = function logout() {\n  return function (dispatch) {\n    return APIUtil.logout().then(function () {\n      return dispatch(logoutCurrentUser());\n    }, function (err) {\n      return dispatch(receiveErrors(err.responseJSON));\n    });\n  };\n};","map":{"version":3,"sources":["/Users/huangzhongkai/Desktop/ntu msis/Semester 2/Blockchain System Software Engineering/FrontendAssessment/codes/Codes/src/actions/session_actions.js"],"names":["APIUtil","RECEIVE_CURRENT_USER","LOGOUT_CURRENT_USER","RECEIVE_SESSION_ERRORS","CLEAR_SESSION_ERRORS","receiveCurrentUser","currentUser","type","logoutCurrentUser","receiveErrors","errors","clearSessionErrors","signup","user","dispatch","then","resUser","err","responseJSON","login","logout"],"mappings":"AAAA,OAAO,KAAKA,OAAZ,MAAyB,0BAAzB;AAEA,OAAO,IAAMC,oBAAoB,GAAG,sBAA7B;AACP,OAAO,IAAMC,mBAAmB,GAAG,qBAA5B;AACP,OAAO,IAAMC,sBAAsB,GAAG,wBAA/B;AACP,OAAO,IAAMC,oBAAoB,GAAG,sBAA7B;AAEP,OAAO,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,WAAD;AAAA,SAAkB;AAClDC,IAAAA,IAAI,EAAEN,oBAD4C;AAElDK,IAAAA,WAAW,EAAXA;AAFkD,GAAlB;AAAA,CAA3B;AAKP,OAAO,IAAME,iBAAiB,GAAG,SAApBA,iBAAoB;AAAA,SAAO;AACtCD,IAAAA,IAAI,EAAEL;AADgC,GAAP;AAAA,CAA1B;AAIP,OAAO,IAAMO,aAAa,GAAG,SAAhBA,aAAgB,CAACC,MAAD;AAAA,SAAa;AACxCH,IAAAA,IAAI,EAAEJ,sBADkC;AAExCO,IAAAA,MAAM,EAANA;AAFwC,GAAb;AAAA,CAAtB;AAKP,OAAO,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB;AAAA,SAAO;AACvCJ,IAAAA,IAAI,EAAEH;AADiC,GAAP;AAAA,CAA3B;AAKP,OAAO,IAAMQ,MAAM,GAAG,SAATA,MAAS,CAACC,IAAD;AAAA,SAAU,UAACC,QAAD;AAAA,WAC9Bd,OAAO,CAACY,MAAR,CAAeC,IAAf,EACGE,IADH,CAEI,UAACC,OAAD;AAAA,aAAcF,QAAQ,CAACT,kBAAkB,CAACW,OAAD,CAAnB,CAAtB;AAAA,KAFJ,EAGI,UAACC,GAAD;AAAA,aAAUH,QAAQ,CAACL,aAAa,CAACQ,GAAG,CAACC,YAAL,CAAd,CAAlB;AAAA,KAHJ,CAD8B;AAAA,GAAV;AAAA,CAAf;AAQP,OAAO,IAAMC,KAAK,GAAG,SAARA,KAAQ,CAACN,IAAD;AAAA,SAAU,UAACC,QAAD;AAAA,WAC7Bd,OAAO,CAACmB,KAAR,CAAcN,IAAd,EACGE,IADH,CAEI,UAACC,OAAD;AAAA,aAAcF,QAAQ,CAACT,kBAAkB,CAACW,OAAD,CAAnB,CAAtB;AAAA,KAFJ,EAGI,UAACC,GAAD;AAAA,aAAUH,QAAQ,CAACL,aAAa,CAACQ,GAAG,CAACC,YAAL,CAAd,CAAlB;AAAA,KAHJ,CAD6B;AAAA,GAAV;AAAA,CAAd;AAQP,OAAO,IAAME,MAAM,GAAG,SAATA,MAAS;AAAA,SAAM,UAACN,QAAD;AAAA,WAC1Bd,OAAO,CAACoB,MAAR,GACGL,IADH,CAEI;AAAA,aAAOD,QAAQ,CAACN,iBAAiB,EAAlB,CAAf;AAAA,KAFJ,EAGI,UAACS,GAAD;AAAA,aAAUH,QAAQ,CAACL,aAAa,CAACQ,GAAG,CAACC,YAAL,CAAd,CAAlB;AAAA,KAHJ,CAD0B;AAAA,GAAN;AAAA,CAAf","sourcesContent":["import * as APIUtil from '../util/session_api_util';\n\nexport const RECEIVE_CURRENT_USER = 'RECEIVE_CURRENT_USER';\nexport const LOGOUT_CURRENT_USER = 'LOGOUT_CURRENT_USER';\nexport const RECEIVE_SESSION_ERRORS = 'RECEIVE_SESSION_ERRORS';\nexport const CLEAR_SESSION_ERRORS = 'CLEAR_SESSION_ERRORS';\n\nexport const receiveCurrentUser = (currentUser) => ({\n  type: RECEIVE_CURRENT_USER,\n  currentUser,\n});\n\nexport const logoutCurrentUser = () => ({\n  type: LOGOUT_CURRENT_USER,\n});\n\nexport const receiveErrors = (errors) => ({\n  type: RECEIVE_SESSION_ERRORS,\n  errors,\n});\n\nexport const clearSessionErrors = () => ({\n  type: CLEAR_SESSION_ERRORS,\n});\n\n\nexport const signup = (user) => (dispatch) => (\n  APIUtil.signup(user)\n    .then(\n      (resUser) => (dispatch(receiveCurrentUser(resUser))),\n      (err) => (dispatch(receiveErrors(err.responseJSON))),\n    )\n);\n\nexport const login = (user) => (dispatch) => (\n  APIUtil.login(user)\n    .then(\n      (resUser) => (dispatch(receiveCurrentUser(resUser))),\n      (err) => (dispatch(receiveErrors(err.responseJSON))),\n    )\n);\n\nexport const logout = () => (dispatch) => (\n  APIUtil.logout()\n    .then(\n      () => (dispatch(logoutCurrentUser())),\n      (err) => (dispatch(receiveErrors(err.responseJSON))),\n    )\n);\n"]},"metadata":{},"sourceType":"module"}