{"ast":null,"code":"import _classCallCheck from \"/Users/huangzhongkai/Desktop/ntu msis/Semester 2/Blockchain System Software Engineering/FrontendAssessment/codes/Codes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/huangzhongkai/Desktop/ntu msis/Semester 2/Blockchain System Software Engineering/FrontendAssessment/codes/Codes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/huangzhongkai/Desktop/ntu msis/Semester 2/Blockchain System Software Engineering/FrontendAssessment/codes/Codes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/huangzhongkai/Desktop/ntu msis/Semester 2/Blockchain System Software Engineering/FrontendAssessment/codes/Codes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/huangzhongkai/Desktop/ntu msis/Semester 2/Blockchain System Software Engineering/FrontendAssessment/codes/Codes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/huangzhongkai/Desktop/ntu msis/Semester 2/Blockchain System Software Engineering/FrontendAssessment/codes/Codes/src/components/home/network_overview.jsx\";\nimport React from 'react';\nimport { Container, Card, Row, Col, Media } from 'reactstrap';\nimport Big from 'big.js';\nimport { timeDiff, numberWithCommas } from '../../util/general_util';\nimport { networkHashRate, web3 } from '../../util/web3_util';\nimport TXHistoryGraph from './tx_history_graph';\nimport \"./style/main.css\";\nimport \"./style/home.css\";\nimport selectImg from \"../../assets/images/ethe-price.png\"; // TODO move to utilities\n// TODO replace string slice with numberWithCommas\n\nvar displayDifficulty = function displayDifficulty(difficulty) {\n  var bigDifficulty = new Big(difficulty, 10);\n  var big100Bil = new Big('1000000000000', 10);\n  var bigDifficultyTh = bigDifficulty.div(big100Bil);\n  var str = bigDifficultyTh.toString();\n  return \"\".concat(str[0], \",\").concat(str.slice(1, 7));\n};\n\nvar displayHashRate = function displayHashRate(hashRate) {\n  if (hashRate === '') return hashRate;\n  var bigHashRate = new Big(hashRate, 10);\n  var big100Thousand = new Big('100000000');\n  var bigHR100Thousand = bigHashRate.div(big100Thousand);\n  var str = bigHR100Thousand.toString();\n  return \"\".concat(str.slice(0, 3), \",\").concat(str.slice(3, 10));\n};\n\nvar NetworkOverview =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(NetworkOverview, _React$Component);\n\n  function NetworkOverview() {\n    _classCallCheck(this, NetworkOverview);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(NetworkOverview).apply(this, arguments));\n  }\n\n  _createClass(NetworkOverview, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this = this;\n\n      this.props.fetchPrices();\n      this.props.fetchTotalSupply();\n      this.props.fetchBlockChairStats();\n      this.props.fetchTetherTxHistory();\n      this.intervalID = setInterval(function () {\n        _this.props.fetchPrices();\n\n        _this.props.fetchTotalSupply();\n\n        _this.props.fetchBlockChairStats();\n\n        _this.props.fetchTetherTxHistory();\n      }, 1 * 30 * 1000);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearInterval(this.intervalID);\n    }\n  }, {\n    key: \"calculateMarketCap\",\n    value: function calculateMarketCap() {\n      var _this$props = this.props,\n          totalSupply = _this$props.totalSupply,\n          ethusd = _this$props.ethusd;\n      if (!(totalSupply && ethusd)) return '...loading';\n      var totalEthe = web3.utils.fromWei(totalSupply.toString(), 'ether');\n      var bigTotalSupplyEth = new Big(totalEthe, 10);\n      var bigMarketCap = bigTotalSupplyEth.mul(new Big(ethusd));\n      var mc = bigMarketCap.toString().slice(0, 14);\n      return numberWithCommas(mc);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          latestBlock = _this$props2.latestBlock,\n          nextLatestBlock = _this$props2.nextLatestBlock,\n          latestBlocks = _this$props2.latestBlocks,\n          ethbtc = _this$props2.ethbtc,\n          ethusd = _this$props2.ethusd,\n          totalTransactions = _this$props2.totalTransactions,\n          mempoolTPS = _this$props2.mempoolTPS,\n          tetherTXHistory = _this$props2.tetherTXHistory;\n      var dispHashRate = displayHashRate(networkHashRate(latestBlocks));\n      var lBNumber = latestBlock ? latestBlock.number : '...loading';\n      var lBDificulty = latestBlock ? displayDifficulty(latestBlock.difficulty) : '...loading';\n      var mineTime = latestBlock && nextLatestBlock ? timeDiff(latestBlock, nextLatestBlock) : '...';\n      var dispTotalTxns = totalTransactions ? (totalTransactions / 1000000).toString().slice(0, 6) : '...loading';\n      var tps = mempoolTPS ? mempoolTPS.toString().slice(0, 3) : '...';\n      return React.createElement(Container, {\n        fluid: \"lg\",\n        className: \"md-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(Card, {\n        className: \"vertical-divider\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(Row, {\n        className: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(Col, {\n        lg: \"4\",\n        md: \"4\",\n        className: \"vertical-divider\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"media\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(Media, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(Media, {\n        left: true,\n        href: \"#\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"figure\", {\n        className: \"u-sm-avatar mr-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"price-av\",\n        src: selectImg,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }))), React.createElement(Media, {\n        body: true,\n        className: \"width-100pe\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(Media, {\n        heading: true,\n        className: \"net-overview-secondary-txt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \"ETHER Price\"), React.createElement(\"a\", {\n        className: \"net-overview-primary-link-txt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, \"$\", ethusd), React.createElement(\"span\", {\n        className: \"secondary-size-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \" @ \", ethbtc, \" BTC \"))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      })), React.createElement(\"hr\", {\n        className: \"hr-space-lg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"media\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(Media, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(Media, {\n        left: true,\n        href: \"#\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"figure\", {\n        className: \"u-sm-avatar mr-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      })), React.createElement(Media, {\n        body: true,\n        className: \"width-100pe\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(Media, {\n        heading: true,\n        className: \"net-overview-secondary-txt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \"Market Cap\"), React.createElement(\"a\", {\n        className: \"net-overview-primary-link-txt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"$\", this.calculateMarketCap())))), React.createElement(\"hr\", {\n        className: \"d-none d-md-none hr-space-lg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      })), React.createElement(Col, {\n        lg: \"4\",\n        md: \"4\",\n        className: \"vertical-divider\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(Media, {\n        className: \"media align-items-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(Media, {\n        left: true,\n        href: \"#\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"figure\", {\n        className: \"u-sm-avatar mr-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      })), React.createElement(Media, {\n        body: true,\n        className: \"width-latest-block \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(Media, {\n        heading: true,\n        className: \"net-overview-secondary-txt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, \"Latest Block\"), React.createElement(\"a\", {\n        className: \"net-overview-primary-link-txt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, lBNumber), React.createElement(\"span\", {\n        className: \"secondary-small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, \"(\", mineTime, \".0 s)\")), React.createElement(\"div\", {\n        className: \"text-right right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(Media, {\n        heading: true,\n        className: \"net-overview-secondary-txt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, \"Transaction\"), React.createElement(\"a\", {\n        className: \"net-overview-primary-link-txt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, dispTotalTxns, \" M\"), React.createElement(\"span\", {\n        className: \"secondary-small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, \" (\", tps, \" TPS)\"))), React.createElement(\"hr\", {\n        className: \"hr-space-lg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"media align-items-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(Media, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, React.createElement(Media, {\n        left: true,\n        href: \"#\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, React.createElement(\"figure\", {\n        className: \"u-sm-avatar mr-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      })), React.createElement(Media, {\n        body: true,\n        className: \"width-difficulty\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(Media, {\n        heading: true,\n        className: \"net-overview-secondary-txt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, \"Difficulty\"), React.createElement(\"a\", {\n        className: \"net-overview-primary-link-txt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, lBDificulty, \" TH\")), React.createElement(\"div\", {\n        className: \"text-right hash-rate right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(Media, {\n        heading: true,\n        className: \"net-overview-secondary-txt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, \"Hash Rate\"), React.createElement(\"a\", {\n        className: \"net-overview-primary-link-txt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, dispHashRate, \" GH/s\"))))), React.createElement(Col, {\n        lg: \"4\",\n        md: \"4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"justify-contnet-between align-items-center d-flex tether\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, React.createElement(\"figure\", {\n        className: \"tether-logo mr-1 mb-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }), React.createElement(\"h2\", {\n        className: \"net-overview-secondary-txt text-nowrap text-truncate\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, \"TETHER TRANSACTION HISTORY IN 14 DAYS\")), React.createElement(TXHistoryGraph, {\n        tetherTXHistory: tetherTXHistory,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return NetworkOverview;\n}(React.Component);\n\nexport { NetworkOverview as default };","map":{"version":3,"sources":["/Users/huangzhongkai/Desktop/ntu msis/Semester 2/Blockchain System Software Engineering/FrontendAssessment/codes/Codes/src/components/home/network_overview.jsx"],"names":["React","Container","Card","Row","Col","Media","Big","timeDiff","numberWithCommas","networkHashRate","web3","TXHistoryGraph","selectImg","displayDifficulty","difficulty","bigDifficulty","big100Bil","bigDifficultyTh","div","str","toString","slice","displayHashRate","hashRate","bigHashRate","big100Thousand","bigHR100Thousand","NetworkOverview","props","fetchPrices","fetchTotalSupply","fetchBlockChairStats","fetchTetherTxHistory","intervalID","setInterval","clearInterval","totalSupply","ethusd","totalEthe","utils","fromWei","bigTotalSupplyEth","bigMarketCap","mul","mc","latestBlock","nextLatestBlock","latestBlocks","ethbtc","totalTransactions","mempoolTPS","tetherTXHistory","dispHashRate","lBNumber","number","lBDificulty","mineTime","dispTotalTxns","tps","calculateMarketCap","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Container, Card, Row, Col, Media } from 'reactstrap';\nimport Big from 'big.js';\n\nimport { timeDiff, numberWithCommas } from '../../util/general_util';\nimport { networkHashRate, web3 } from '../../util/web3_util'\nimport TXHistoryGraph from './tx_history_graph';\nimport \"./style/main.css\";\nimport \"./style/home.css\";\nimport selectImg from \"../../assets/images/ethe-price.png\"\n\n// TODO move to utilities\n// TODO replace string slice with numberWithCommas\nconst displayDifficulty = (difficulty) => {\n  const bigDifficulty = new Big(difficulty, 10)\n  const big100Bil = new Big('1000000000000', 10)\n  const bigDifficultyTh = bigDifficulty.div(big100Bil);\n  const str = bigDifficultyTh.toString()\n  return `${str[0]},${str.slice(1, 7)}`\n}\n\nconst displayHashRate = (hashRate) => {\n  if (hashRate === '') return hashRate;\n  const bigHashRate = new Big(hashRate, 10);\n  const big100Thousand = new Big('100000000');\n  const bigHR100Thousand = bigHashRate.div(big100Thousand)\n  const str = bigHR100Thousand.toString()\n  return `${str.slice(0, 3)},${str.slice(3, 10)}`\n}\n\nexport default class NetworkOverview extends React.Component {\n\n  componentDidMount() {\n    this.props.fetchPrices();\n    this.props.fetchTotalSupply();\n    this.props.fetchBlockChairStats()\n    this.props.fetchTetherTxHistory();\n\n    this.intervalID = setInterval(() => {\n      this.props.fetchPrices();\n      this.props.fetchTotalSupply();\n      this.props.fetchBlockChairStats()\n      this.props.fetchTetherTxHistory();\n    }, 1 * 30 * 1000)\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.intervalID)\n  }\n\n  calculateMarketCap() {\n    const { totalSupply, ethusd } = this.props;\n    if (!(totalSupply && ethusd)) return '...loading';\n    const totalEthe = web3.utils.fromWei(totalSupply.toString(), 'ether');\n    const bigTotalSupplyEth = new Big(totalEthe, 10);\n    const bigMarketCap = bigTotalSupplyEth.mul(new Big(ethusd));\n    const mc = bigMarketCap\n      .toString()\n      .slice(0, 14);\n    return numberWithCommas(mc)\n  }\n\n  render() {\n    const { latestBlock,\n      nextLatestBlock,\n      latestBlocks,\n      ethbtc,\n      ethusd,\n      totalTransactions,\n      mempoolTPS,\n      tetherTXHistory\n    } = this.props;\n\n    const dispHashRate = displayHashRate(networkHashRate(latestBlocks));\n    const lBNumber = latestBlock ? latestBlock.number : '...loading';\n    const lBDificulty = latestBlock ? displayDifficulty(latestBlock.difficulty)\n      : '...loading';\n\n    const mineTime = latestBlock && nextLatestBlock ?\n      (timeDiff(latestBlock, nextLatestBlock)) : '...';\n\n    const dispTotalTxns = totalTransactions ? (totalTransactions / 1000000)\n      .toString()\n      .slice(0, 6) : '...loading'\n\n    const tps = mempoolTPS ? mempoolTPS\n      .toString()\n      .slice(0, 3) : '...';\n\n    return (\n      <Container fluid='lg' className='md-4'>\n        <Card className='vertical-divider'>\n          <Row className=''>\n\n            <Col lg='4' md='4' className='vertical-divider'>\n              <div className='media'>\n\n                <Media>\n                  <Media left href=\"#\">\n                    <figure className='u-sm-avatar mr-2'>\n                      <img className='price-av' src={selectImg} />\n                    </figure>\n\n                  </Media>\n                  <Media body className='width-100pe'>\n                    <Media heading className='net-overview-secondary-txt'>\n                      ETHER Price\n                    </Media>\n                    <a className='net-overview-primary-link-txt'>${ethusd}</a>\n                    <span className='secondary-size-1'> @ {ethbtc} BTC </span>\n                  </Media>\n                </Media>\n\n                <div></div>\n              </div>\n              <hr className='hr-space-lg'></hr>\n\n              <div className='media'>\n                <Media>\n                  <Media left href=\"#\">\n                    <figure className='u-sm-avatar mr-2'>\n                      {/* <img className='' src={window.imgs.worldMarked} /> */}\n\n                    </figure>\n                  </Media>\n                  <Media body className='width-100pe'>\n                    <Media heading className='net-overview-secondary-txt'>\n                      Market Cap\n                    </Media>\n                    <a className='net-overview-primary-link-txt'>\n                      ${this.calculateMarketCap()}\n                    </a>\n\n                  </Media>\n                </Media>\n\n              </div>\n              <hr className='d-none d-md-none hr-space-lg' />\n\n            </Col>\n\n            <Col lg='4' md='4' className='vertical-divider'>\n              {/* <div className='media align-items-center'> */}\n              <Media className='media align-items-center'>\n                <Media left href=\"#\">\n                  <figure className='u-sm-avatar mr-2'>\n                    {/* <img className='' src={window.imgs.latestBlock} /> */}\n\n                  </figure>\n                </Media>\n\n                <Media body className='width-latest-block '>\n                  <Media heading className='net-overview-secondary-txt'>\n                    Latest Block\n                    </Media>\n                  <a className='net-overview-primary-link-txt'>{lBNumber}</a>\n                  <span className='secondary-small'>({mineTime}.0 s)</span>\n                </Media>\n\n                <div className='text-right right'>\n                  <Media heading className='net-overview-secondary-txt'>\n                    Transaction\n                  </Media>\n                  <a className='net-overview-primary-link-txt'>{dispTotalTxns} M</a>\n                  <span className='secondary-small'> ({tps} TPS)</span>\n                </div>\n\n              </Media>\n\n\n              {/* </div> */}\n              <hr className='hr-space-lg'></hr>\n              <div className='media align-items-center'>\n\n                <Media>\n                  <Media left href=\"#\">\n                    <figure className='u-sm-avatar mr-2'>\n                      {/* <img className='' src={window.imgs.mineIcon} /> */}\n\n                    </figure>\n                  </Media>\n\n                  <Media body className='width-difficulty'>\n                    <Media heading className='net-overview-secondary-txt'>\n                      Difficulty\n                    </Media>\n                    <a className='net-overview-primary-link-txt'>{lBDificulty} TH</a>\n                  </Media>\n\n                  <div className='text-right hash-rate right'>\n                    <Media heading className='net-overview-secondary-txt'>\n                      Hash Rate\n                    </Media>\n                    <a className='net-overview-primary-link-txt'>{dispHashRate} GH/s</a>\n                  </div>\n\n\n                </Media>\n              </div>\n\n            </Col >\n            <Col lg='4' md='4'>\n              <div className='justify-contnet-between align-items-center d-flex tether'>\n                <figure className='tether-logo mr-1 mb-0'>\n                  {/* <img className='tether-logo' src={window.imgs.tetherLogo} /> */}\n                </figure>\n                <h2 className='net-overview-secondary-txt text-nowrap text-truncate'>\n                  TETHER TRANSACTION HISTORY IN 14 DAYS\n                </h2>\n              </div>\n\n              <TXHistoryGraph tetherTXHistory={tetherTXHistory} />\n            </Col>\n          </Row>\n        </Card>\n      </Container>\n    )\n  }\n}\n\n\n"]},"metadata":{},"sourceType":"module"}